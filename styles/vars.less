// ===========================================
// CSS Tower Defense - Variables & Mixins
// THEME: POP-ART / CEL-SHADED
// ===========================================

// Grid Configuration
@grid-cols: 12;
@grid-rows: 8;
@cell-size: 60px;
@map-rotation: 45deg; // Flatter angle for comic look
@perspective: 1200px;

// ===========================================
// CSS VARIABLES (Dynamic Theming)
// ===========================================
:root {
    // SEASONAL THEME COLORS (Changeable)
    --color-bg: #B8D8E8; // Soft powder blue

    --color-grass: #8BC34A;
    --color-grass-light: #A8D965;
    --color-grass-dark: #6B9A30;

    --color-path: #E8C864;
    --color-path-light: #F2DD8A;
    --color-path-dark: #C4A642;
}

// ===========================================
// STATIC PALETTE (HEX for LESS functions)
// ===========================================
@color-cyan: #2D8A8A;
@color-magenta: #D4738A;
@color-yellow: #F2D864;
@color-black: #1A1614;
@color-white: #FFF8F0;
@color-blue: #4A90C4;
@color-green: #5EA65E;
@color-danger: #E8635A;
@color-success: #5EA65E;

// SEMANTIC COLORS
@color-primary: @color-cyan;
@color-secondary: @color-magenta;
@color-dark: @color-black;
@color-darker: #000;
@color-light: @color-white;

// GAME ENTITIES (Dynamic)
@color-grass: var(--color-grass);
@color-grass-light: var(--color-grass-light);
@color-grass-dark: var(--color-grass-dark);

@color-path: var(--color-path);
@color-path-light: var(--color-path-light);
@color-path-dark: var(--color-path-dark);
@color-bg: var(--color-bg);

// Static calculated values (because fade() works on hex)
@color-grid-hover: fade(@color-cyan, 50%);
@color-grid-valid: fade(@color-success, 60%);
@color-grid-invalid: fade(@color-danger, 60%);

// TOWERS (Static)
@color-tower-arrow: #C47832;
@color-tower-arrow-glow: #F5C882;
@color-tower-cannon: #4A4A4A;
@color-tower-cannon-glow: #E8635A;
@color-tower-ice: #7EC8D9;
@color-tower-ice-glow: #E0F4F8;
@color-tower-magic: #9B59B6;
@color-tower-magic-glow: #D4A8E8;
@color-tower-tesla: #E8C84A;
@color-tower-flame: #D4512A;

// ENEMIES (Static)
@color-enemy-slime: #8BC34A;
@color-enemy-goblin: #D46A4A;
@color-enemy-knight: #5A7CB5;
@color-enemy-boss: #7B2D8E;

// TYPOGRAPHY
@font-main: 'Comic Neue', 'Comic Sans MS', sans-serif;
@font-title: 'Bangers', 'Impact', cursive;
@font-comic: 'Comic Neue', cursive;

// ===========================================
// POP-ART MIXINS
// ===========================================

// 1. HARD SHADOW (Pop-out effect)
.pop-shadow(@x: 8px, @y: 8px, @color: @color-black) {
    box-shadow: @x @y 0 @color;
}

// 2. COMIC BORDER (Thick outline)
.comic-border(@width: 3px, @color: @color-black) {
    border: @width solid @color;
}

// 3. TEXT OUTLINE (Stroke effect)
.text-outline(@color: @color-black, @width: 1px) {
    -webkit-text-stroke: @width @color;
    text-shadow:
        1px 1px 0 @color,
        -1px -1px 0 @color,
        1px -1px 0 @color,
        -1px 1px 0 @color;
}

// 4. HALFTONE PATTERN (Dots)
.halftone-bg(@dot-color: rgba(0, 0, 0, 0.1), @dot-size: 2px) {
    background-image: radial-gradient(@dot-color @dot-size, transparent @dot-size);
    background-size: (@dot-size * 4) (@dot-size * 4);
    background-position: 0 0;
}

// Common Helpers
.flex-center() {
    display: flex;
    justify-content: center;
    align-items: center;
}

.preserve-3d() {
    transform-style: preserve-3d;
}

.no-select() {
    user-select: none;
    -webkit-user-select: none;
}

// ===========================================
// VISUAL EFFECTS VARIABLES
// ===========================================

// Fire Effect Colors
@fire-core: #FFF8E8;
@fire-inner: #F2D864;
@fire-mid: #E88A42;
@fire-outer: #D4512A;
@fire-edge: #3A1A10;
@smoke-color: rgba(60, 50, 45, 0.5);

// Aurora Effect Colors
@aurora-green: rgba(94, 166, 94, 0.5);
@aurora-cyan: rgba(126, 200, 217, 0.4);
@aurora-purple: rgba(155, 89, 182, 0.35);

// Boss Effect Colors
@boss-grid-primary: #7B2D8E;
@boss-grid-secondary: #2D8A8A;
@boss-glow: rgba(123, 45, 142, 0.7);

// Effect Performance Mixins
.gpu-accelerate() {
    transform: translateZ(0);
    will-change: transform, opacity;
    backface-visibility: hidden;
}

.contain-paint() {
    contain: layout style paint;
}